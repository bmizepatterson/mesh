<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<link rel="stylesheet" type="text/css" href="https://www.w3schools.com/w3css/4/w3.css">
	<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
	<style>
		#tip {
			font-style:italic;
			margin:0;
		}
		#cellInfo {
			margin:0;
		}
		#debugspace {
			margin-bottom:32px;
			margin-top:32px;
		}
		#watchlist {
			margin-top:16px;
		}
		#watchlist p {
			margin:0;
		}
	</style>
	
	<title>Mesh</title>
</head>
<body onload="load()">
	
	<div class="w3-container">
		<h1 style="margin-bottom:0;">Mesh</h1>
		<p class="w3-text-gray w3-small" style="margin-top:0px;"><em>A graphical neural network simulator</em></p>
	</div>
	
	<div class="w3-row-padding">
		<div class="w3-col s4">
			<p>Click anywhere in the box to add a cell body.</p>
			<p>Click on a cell to select it. Then click on another cell to connect them.</p>
			<p>Click "Start" to provide input to the first cell and see how it propogates through the network!</p>
			<div class="w3-bar">
				<button id="startStimulate" onclick="clickStimulateButton()" class="w3-bar-item w3-button w3-indigo w3-border w3-border-white" style="width:50%;">Start</button>
				<button id="stopStimulate" onclick="stopStimulate()" class="w3-bar-item w3-button w3-red w3-border w3-border-white" style="width:50%;display:none;">Stop</button>
				<button id="stepStimulate" onclick="Cells[0].stimulate(1)" class="w3-bar-item w3-button w3-blue w3-border w3-border-white" style="width:50%;">Step</button>
			</div>
			<div>
				<button id="clearWorkspace" onclick="clearWorkspace()" class="w3-button w3-block w3-black w3-border w3-border-white">Reset</button>
			</div>
			<div>
				<h4>Settings for new cells:</h4>
				<table style="width:100%;">
					<tr><td><label for="thresholdSetting">Threshold:</label></td>
						<td><input type="range" id="thresholdSetting" name="thresholdSetting" min="1" max="9" value="5" onchange="updateThresholdValue()" onmousemove="updateThresholdValue()" style="width:100%;"></td>
				 		<td style="text-align:center;"><span id="thresholdValue">5</span></td></tr>
				 	<tr><td><label for="firepowerSetting">Power:</label></td>
				 		<td><input type="range" id="firepowerSetting" name="firepowerSetting" min="1" max="9" value="5" onchange="updateFirepowerValue()" onmousemove="updateFirepowerValue()" style="width:100%;"></td>
				 		<td style="text-align:center;"><span id="firepowerValue">5</span></td></tr>
				 </table>
			</div>

			<div id="watchlist">
				<p>Mouse: <span id="mousecoords"></span></p>
				<p>drawingDendrite = <span id="drawingDendrite"></span></p>
				<p>selectedCell = <span id="selectedCell"></span></p>
				<p>highlightedCell = <span id="highlightedCell"></span></p>
				<p>stimulation in progress: <span id="stimulateCheck"></span></p>
			</div>
		</div>
		
		<div class="w3-col s8">
			<p id="tip" class="w3-text-indigo w3-center" style="width:500px;">&nbsp;</p>
			<canvas id="workspace"  onclick="workspaceMouseClick(event)" onmousemove="workspaceMove(event)" onmouseout="clearCoor()" class="w3-border" width="500" height="500"></canvas>
			<p id="cellInfo" class="w3-small w3-right-align w3-text-gray" style="width:500px;">&nbsp;</p>
		</div>
	</div>

	<div id="debugspace" class="w3-container"></div>

	<script src="mesh.js"></script>
</body>
</html>
